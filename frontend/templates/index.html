<!DOCTYPE html>

<html lang="en">
	<head>
		<meta charstet="utf-8">	
		<meta name="viewport" content="initial-scale=1, width=device-width">
		<link rel="stylesheet" href="static/css/grid.css">
		<script src="https://unpkg.com/htmx.org@1.9.6" integrity="sha384-FhXw7b6AlE/jyjlZH5iHa/tTe9EpJ1Y55RjcgPbjeWMskSxZt1v9qkxLJWNJaGni" crossorigin="anonymous"></script>
		<!-- <script src="static/js/history.js" type="text/javascript"></script> -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js"></script> 
		<title>Dual Momentum</title>
	</head>
	<body>
		<div>
			<select hx-get="/" name="limit" hx-target=".table" hx-swap="outerHTML">
				<option value="10">10</option>
				<option value="15">15</option>
				<option value="20">20</option>
			</select>
		</div>
		<div class='wrapper'>
			
			<div id="table_container">
				{% block table %}
				<div class="table">
					<div class="row tblhdr">
					<div><strong>TS</strong></div>
						<div><strong>Symbol</strong></div>
						<div><strong>Score</strong></div>
					</div>
					{% for row in data %}
					<div class="row" hx-get="/chart_data" hx-target="#chart_container" hx-vals='{"ticker": "{{ row.ticker }}"}'>
						<div class="rdata">{{ ts_to_str(row.ts) }}</div>
						<div class="rdata">{{ row.ticker }}</div>
						<div class="rdata">{{ round(row.sroc)}}</div>
					</div>
					{% endfor %}
				</div>
				{% endblock %}
			</div>
			<div id="chart_container">
				<!-- {% block chart %} -->
				<div id="innerChart">

				</div> 
				<!-- {% endblock %} hx-swap="outerHTML" -->
			</div>
		</div>

		<!-- <script src="static/js/history.js" type="text/javascript"></script> -->
	</body>
</html>
